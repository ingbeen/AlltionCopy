<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
	 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	 
<mapper namespace="com.spring.mapper.MemberMapper">

<resultMap type="MemberVO" id = "memberResultMap">
		<result property="member_name" column="member_name"/>
	 	<result property="member_id" column="member_id"/>
	 	<result property="member_password" column="member_password"/>
	 	<result property="email" column="email"/>
	 	<result property="member_phone" column="member_phone"/>
	 	<result property="sample4_postcode" column ="sample4_postcode"/>
	 	<result property="sample4_roadAddress" column="sample4_roadAddress"/>
	 	<result property="sample4_jibunAddress" column="sample4_jibunAddress"/>
	 	<result property="sample4_detailAddress" column="sample4_detailAddress"/>
	 	<result property="member_delete" column="member_delete"/>

	 </resultMap>
	 
	 <select id="userCheck" parameterType="MemberVO" resultType="int">
	 	select count(*) from member where member_id = #{member_id} and member_password = #{member_password} and member_delete = '0'
	 </select>
	 
	 <insert id="insertMember" parameterType="MemberVO">
	 insert into member values
	 (#{member_name},#{member_id},#{member_password},#{email},#{member_phone},#{sample4_postcode},#{sample4_roadAddress},#{sample4_jibunAddress},#{sample4_detailAddress},#{member_delete})
	 </insert>
	 
	 <select id="idCheckService" parameterType="String" resultType="int">
		select count(*) from member where member_id = #{member_id}
	 </select>
	 
	 <select id="selectMember"  parameterType="String" resultType="MemberVO">
	 	select * from member where member_id = #{member_id} 
	 </select>
	 
	 <update id="updateEmail" parameterType="MemberVO" >
	 update member set email=#{email} where member_id=#{member_id}
	 </update>
	 
	 <update id="updatePassword" parameterType="MemberVO" >
	 update member set member_password=#{member_password} where member_id=#{member_id}
	 </update>
</mapper>